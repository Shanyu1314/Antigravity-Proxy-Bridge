# æµ‹è¯•æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜å¦‚ä½•æµ‹è¯• Antigravity-Proxy-Bridge é¡¹ç›®çš„å„é¡¹åŠŸèƒ½ã€‚

## ğŸ“‹ æµ‹è¯•å‡†å¤‡

### ç¯å¢ƒè¦æ±‚

- Linux æœåŠ¡å™¨ï¼ˆUbuntu 20.04+ / Debian 11+ / CentOS 8+ï¼‰
- Root æˆ– sudo æƒé™
- å·²å®‰è£… gitã€curl ç­‰åŸºç¡€å·¥å…·

### è·å–é¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Shanyu1314/Antigravity-Proxy-Bridge.git
cd Antigravity-Proxy-Bridge

# éªŒè¯æ–‡ä»¶æƒé™
ls -la *.sh modules/*.sh tests/*.sh
```

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯ 1ï¼šå›½é™…æœåŠ¡å™¨æµ‹è¯•ï¼ˆç¾å›½/æ¬§æ´²ï¼‰

#### æµ‹è¯•ç›®æ ‡

éªŒè¯è„šæœ¬èƒ½å¤Ÿæ­£ç¡®æ£€æµ‹åˆ°æœåŠ¡å™¨å¯ä»¥ç›´æ¥è®¿é—®å›½é™…ç½‘ç»œï¼Œå¹¶ç»™å‡ºåˆç†æç¤ºã€‚

#### æµ‹è¯•æ­¥éª¤

```bash
# 1. è¿è¡Œç½‘ç»œæµ‹è¯•
./tests/test_network.sh
```

**é¢„æœŸè¾“å‡º**ï¼š
```
=== ç½‘ç»œè¿æ¥æµ‹è¯• ===

1. æµ‹è¯• Google ç›´è¿...
   âœ… æˆåŠŸ

2. æµ‹è¯•ä»£ç†ç«¯å£ 7890...
   âŒ ç«¯å£æœªå¼€æ”¾

3. æµ‹è¯•é€šè¿‡ä»£ç†è®¿é—® Google...
   âŒ å¤±è´¥

4. æµ‹è¯• graftcp...
   âŒ graftcp æœªå®‰è£…

=== æµ‹è¯•å®Œæˆ ===
```

```bash
# 2. è¿è¡Œä¸»è„šæœ¬ï¼ˆè¯•è¿è¡Œæ¨¡å¼ï¼‰
sudo ./setup.sh --dry-run
```

**é¢„æœŸè¡Œä¸º**ï¼š
- æ£€æµ‹åˆ°å¯ä»¥ç›´æ¥è®¿é—®å›½é™…ç½‘ç»œ
- æç¤ºç”¨æˆ·é€šå¸¸ä¸éœ€è¦é…ç½®ä»£ç†
- å…è®¸ç”¨æˆ·é€‰æ‹©æ˜¯å¦ç»§ç»­

#### éªŒè¯ç‚¹

- âœ… ç½‘ç»œæ£€æµ‹æ­£ç¡®è¯†åˆ«å¯ç›´è¿ç¯å¢ƒ
- âœ… ç»™å‡ºæ¸…æ™°çš„æç¤ºä¿¡æ¯
- âœ… ç”¨æˆ·é€‰æ‹© N åæ­£å¸¸é€€å‡º
- âœ… ç”¨æˆ·é€‰æ‹© y åå¯ç»§ç»­é…ç½®

### åœºæ™¯ 2ï¼šå—é™ç½‘ç»œç¯å¢ƒæµ‹è¯•

#### æµ‹è¯•ç›®æ ‡

éªŒè¯è„šæœ¬åœ¨æ— æ³•ç›´æ¥è®¿é—®å›½é™…ç½‘ç»œçš„ç¯å¢ƒä¸‹èƒ½å¤Ÿæ­£ç¡®é…ç½®ä»£ç†ã€‚

#### å‰ç½®æ¡ä»¶

```bash
# 1. å®‰è£…ä¾èµ–
sudo apt update
sudo apt install -y graftcp curl netcat-openbsd

# 2. ç¡®ä¿ä»£ç†æœåŠ¡è¿è¡Œåœ¨ 7890 ç«¯å£ï¼ˆClash/V2Rayï¼‰
```

#### æµ‹è¯•æ­¥éª¤

```bash
# 1. æµ‹è¯•ç½‘ç»œ
./tests/test_network.sh
```

**é¢„æœŸè¾“å‡º**ï¼š
```
=== ç½‘ç»œè¿æ¥æµ‹è¯• ===

1. æµ‹è¯• Google ç›´è¿...
   âŒ å¤±è´¥

2. æµ‹è¯•ä»£ç†ç«¯å£ 7890...
   âœ… ç«¯å£å¼€æ”¾

3. æµ‹è¯•é€šè¿‡ä»£ç†è®¿é—® Google...
   âœ… æˆåŠŸ

4. æµ‹è¯• graftcp...
   âœ… graftcp å·¥ä½œæ­£å¸¸

=== æµ‹è¯•å®Œæˆ ===
```

```bash
# 2. è¿è¡Œä¸»è„šæœ¬ï¼ˆè¯•è¿è¡Œæ¨¡å¼ï¼‰
sudo ./setup.sh --dry-run
```

**é¢„æœŸè¡Œä¸º**ï¼š
- æ£€æµ‹åˆ°æ— æ³•è®¿é—®å›½é™…ç½‘ç»œ
- æç¤ºéœ€è¦é…ç½®ä»£ç†
- æ£€æµ‹ä»£ç†æœåŠ¡çŠ¶æ€
- ç»§ç»­é…ç½®æµç¨‹

#### å®Œæ•´å®‰è£…æµ‹è¯•

```bash
# æ‰§è¡Œå®Œæ•´å®‰è£…
sudo ./setup.sh

# æŒ‰æç¤ºé€‰æ‹©åœºæ™¯ï¼ˆå¦‚æœåŠ¡å™¨ç‰ˆï¼‰
# éªŒè¯å®‰è£…ç»“æœ
```

**éªŒè¯æ­¥éª¤**ï¼š
```bash
# æ£€æŸ¥å¤‡ä»½
ls -la backup/

# æ£€æŸ¥æ—¥å¿—
cat install.log

# æ£€æŸ¥é…ç½®
head -20 ~/.antigravity-server/bin/*/out/server-main.js

# æµ‹è¯•å¸è½½
sudo ./uninstall.sh
```

### åœºæ™¯ 3ï¼šRemote-SSH æ¨¡å¼éªŒè¯

#### æµ‹è¯•ç›®æ ‡

éªŒè¯è„šæœ¬èƒ½å¤Ÿæ­£ç¡®è¯†åˆ« Remote-SSH åœºæ™¯å¹¶ç»™å‡ºæ­£ç¡®å¼•å¯¼ã€‚

#### æµ‹è¯•æ­¥éª¤

```bash
# è¿è¡Œè„šæœ¬å¹¶é€‰æ‹©åœºæ™¯ 3
sudo ./setup.sh
# é€‰æ‹©: 3) Remote-SSH æ¨¡å¼
```

**é¢„æœŸè¡Œä¸º**ï¼š
- è¯†åˆ« Remote-SSH åœºæ™¯
- ç»™å‡ºæ¸…æ™°çš„é…ç½®å¼•å¯¼
- ä¸æ‰§è¡Œä»»ä½•æ–‡ä»¶ä¿®æ”¹
- æä¾›æ–‡æ¡£é“¾æ¥

#### éªŒè¯ç‚¹

- âœ… æ­£ç¡®è¯†åˆ«åœºæ™¯
- âœ… æä¾›æœ¬åœ°é…ç½®æŒ‡å¯¼
- âœ… è„šæœ¬å®‰å…¨é€€å‡º
- âœ… æ— æ–‡ä»¶è¢«ä¿®æ”¹

## ğŸ“Š æµ‹è¯•çŸ©é˜µ

| ç½‘ç»œç¯å¢ƒ | Antigravity çŠ¶æ€ | é¢„æœŸè¡Œä¸º |
|---------|----------------|---------|
| å¯ç›´è¿å›½é™…ç½‘ç»œ | æœªå®‰è£… | æç¤ºä¸éœ€è¦é…ç½® â†’ é€€å‡º |
| å¯ç›´è¿å›½é™…ç½‘ç»œ | å·²å®‰è£… | æç¤ºä¸éœ€è¦é…ç½® â†’ å¯é€‰ç»§ç»­ |
| å—é™ç½‘ç»œ | æœªå®‰è£… | æç¤ºéœ€è¦é…ç½® â†’ æ‰¾ä¸åˆ°è·¯å¾„ â†’ é€€å‡º |
| å—é™ç½‘ç»œ | å·²å®‰è£… | æç¤ºéœ€è¦é…ç½® â†’ æ­£å¸¸é…ç½®æµç¨‹ |
| Remote-SSH | ä»»æ„ | è¯†åˆ«åœºæ™¯ â†’ æä¾›å¼•å¯¼ â†’ é€€å‡º |

## ğŸ” è¯¦ç»†æµ‹è¯•æ¸…å•

### åŸºç¡€åŠŸèƒ½æµ‹è¯•

```bash
# 1. å¸®åŠ©ä¿¡æ¯
./setup.sh --help

# 2. ç‰ˆæœ¬ä¿¡æ¯
./setup.sh --version

# 3. ä»…æ£€æŸ¥æ¨¡å¼
sudo ./setup.sh --check-only

# 4. è¯•è¿è¡Œæ¨¡å¼
sudo ./setup.sh --dry-run

# 5. è‡ªå®šä¹‰ä»£ç†
sudo ./setup.sh --proxy http://127.0.0.1:1080 --dry-run
```

### ç½‘ç»œæ£€æµ‹æµ‹è¯•

```bash
# è¿è¡Œç½‘ç»œæµ‹è¯•è„šæœ¬
./tests/test_network.sh

# æ£€æŸ¥è¾“å‡ºæ˜¯å¦æ­£ç¡®
```

### è·¯å¾„æ¢æµ‹æµ‹è¯•

```bash
# è¿è¡Œè·¯å¾„æµ‹è¯•è„šæœ¬
./tests/test_paths.sh

# æ£€æŸ¥æ˜¯å¦èƒ½æ‰¾åˆ° Antigravity å®‰è£…è·¯å¾„
```

### ä¾èµ–æ£€æŸ¥æµ‹è¯•

```bash
# æ£€æŸ¥ä¾èµ–
sudo ./setup.sh --check-only

# éªŒè¯è¾“å‡ºï¼š
# - graftcp çŠ¶æ€
# - curl çŠ¶æ€
# - nc çŠ¶æ€
# - find çŠ¶æ€
```

### å¤‡ä»½åŠŸèƒ½æµ‹è¯•

```bash
# å¦‚æœæœ‰ Antigravity å®‰è£…
sudo ./setup.sh

# æ£€æŸ¥å¤‡ä»½
ls -la backup/
cat backup/*/backup_info.txt

# æ£€æŸ¥ .bak æ–‡ä»¶
find ~/.antigravity-server -name "*.bak" 2>/dev/null
```

### å¸è½½åŠŸèƒ½æµ‹è¯•

```bash
# å®‰è£…åå¸è½½
sudo ./uninstall.sh

# éªŒè¯ï¼š
# - .bak æ–‡ä»¶æ˜¯å¦åˆ é™¤
# - åŸæ–‡ä»¶æ˜¯å¦æ¢å¤
# - æ³¨å…¥ä»£ç æ˜¯å¦æ¸…é™¤
```

## ğŸ› å¸¸è§æµ‹è¯•é—®é¢˜

### Q: æƒé™é”™è¯¯

```bash
# å¦‚æœé‡åˆ°æƒé™é—®é¢˜
chmod +x setup.sh uninstall.sh
chmod +x modules/*.sh tests/*.sh
```

### Q: æ‰¾ä¸åˆ° graftcp

```bash
# å®‰è£… graftcp
sudo apt install -y graftcp
```

### Q: ä»£ç†ç«¯å£æœªå¼€æ”¾

```bash
# æ£€æŸ¥ä»£ç†æœåŠ¡
netstat -tlnp | grep 7890

# å¯åŠ¨ä»£ç†æœåŠ¡ï¼ˆClash/V2Rayï¼‰
```

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

```markdown
## æµ‹è¯•ç¯å¢ƒ
- æœåŠ¡å™¨ä½ç½®: [ç¾å›½/å›½å†…]
- æ“ä½œç³»ç»Ÿ: [Ubuntu 24.04]
- Antigravity: [å·²å®‰è£…/æœªå®‰è£…]
- åœºæ™¯: [æ¡Œé¢ç‰ˆ/æœåŠ¡å™¨ç‰ˆ/Remote-SSH]

## æµ‹è¯•ç»“æœ

### ç½‘ç»œæ£€æµ‹
- [ ] Google ç›´è¿æµ‹è¯•
- [ ] ä»£ç†ç«¯å£æ£€æµ‹
- [ ] ä»£ç†è¿æ¥æµ‹è¯•
- [ ] graftcp æµ‹è¯•

### åŠŸèƒ½æµ‹è¯•
- [ ] åœºæ™¯è¯†åˆ«
- [ ] è·¯å¾„æ¢æµ‹
- [ ] ä¾èµ–æ£€æŸ¥
- [ ] å¤‡ä»½åŠŸèƒ½
- [ ] ä»£ç†æ³¨å…¥
- [ ] å¸è½½æ¢å¤

### é—®é¢˜è®°å½•
[è®°å½•é‡åˆ°çš„é—®é¢˜]

### å»ºè®®
[æ”¹è¿›å»ºè®®]
```

## ğŸ¯ æ¨èæµ‹è¯•æµç¨‹

### åŸºç¡€åŠŸèƒ½éªŒè¯

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Shanyu1314/Antigravity-Proxy-Bridge.git
cd Antigravity-Proxy-Bridge

# 2. è¿è¡Œç½‘ç»œæµ‹è¯•
./tests/test_network.sh

# 3. è¯•è¿è¡Œæ¨¡å¼
sudo ./setup.sh --dry-run

# 4. è§‚å¯Ÿè¾“å‡ºï¼ŒéªŒè¯æ£€æµ‹é€»è¾‘
```

### å®Œæ•´å®‰è£…æµ‹è¯•

```bash
# 1. å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
sudo apt install -y graftcp curl netcat-openbsd

# 2. é…ç½®ä»£ç†æœåŠ¡ï¼ˆå¦‚éœ€è¦ï¼‰

# 3. è¿è¡Œå®Œæ•´æµ‹è¯•
./tests/test_network.sh
sudo ./setup.sh --dry-run

# 4. æ‰§è¡Œå®Œæ•´å®‰è£…ï¼ˆå¦‚æœ‰ Antigravityï¼‰
sudo ./setup.sh

# 5. éªŒè¯å®‰è£…ç»“æœ
cat install.log
ls -la backup/

# 6. æµ‹è¯•å¸è½½åŠŸèƒ½
sudo ./uninstall.sh
```

## ğŸ’¡ æµ‹è¯•å»ºè®®

1. **ä½¿ç”¨è¯•è¿è¡Œæ¨¡å¼** - å…ˆç”¨ `--dry-run` é¢„è§ˆæ“ä½œ
2. **æŸ¥çœ‹è¯¦ç»†æ—¥å¿—** - é€šè¿‡ `cat install.log` äº†è§£æ‰§è¡Œç»†èŠ‚
3. **ä¿ç•™å¤‡ä»½æ–‡ä»¶** - æµ‹è¯•å®Œæˆåæ£€æŸ¥ backup ç›®å½•
4. **æµ‹è¯•å®Œæ•´æµç¨‹** - éªŒè¯å®‰è£…ã€å¸è½½ã€é‡æ–°å®‰è£…çš„å®Œæ•´å‘¨æœŸ
5. **å¤šç¯å¢ƒæµ‹è¯•** - åœ¨ä¸åŒç½‘ç»œç¯å¢ƒå’ŒæœåŠ¡å™¨é…ç½®ä¸‹æµ‹è¯•

---

**æµ‹è¯•é‡ç‚¹ï¼šéªŒè¯æ™ºèƒ½æ£€æµ‹åŠŸèƒ½åœ¨ä¸åŒç½‘ç»œç¯å¢ƒä¸‹çš„å‡†ç¡®æ€§**
